(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,a){},106:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},121:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(16),c=a.n(s),o=a(2),i=a.n(o),u=a(4),l=a(14),d=a(6),m=a(5),h=a(12),p=a(8),f=a(7),g=(a(66),a(105),a(26)),v=a(92),b=a(31),E=function(e){return new Promise((function(t,a){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return a(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function C(e){return e*Math.PI/180}function k(e,t){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(i.a.mark((function e(t,a){var n,r,s,c,o,u,l=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:0,e.next=3,E(t);case 3:return r=e.sent,s=document.createElement("canvas"),c=s.getContext("2d"),o=2*Math.max(r.width,r.height),s.width=o,s.height=o,c.translate(o/2,o/2),c.rotate(C(n)),c.translate(-o/2,-o/2),c.drawImage(r,o/2-.5*r.width,o/2-.5*r.height),u=c.getImageData(0,0,o,o),s.width=a.width,s.height=a.height,c.putImageData(u,0-o/2+.5*r.width-a.x,0-o/2+.5*r.height-a.y),e.abrupt("return",new Promise((function(e){s.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){return new Promise((function(t,a){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return a(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function S(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(i.a.mark((function e(t){var a,n,r,s,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:0,e.next=3,N(t);case 3:return n=e.sent,r=document.createElement("canvas"),s=r.getContext("2d"),90===a||-90===a||270===a||-270===a?(r.width=n.height,r.height=n.width):(r.width=n.width,r.height=n.height),s.translate(r.width/2,r.height/2),s.rotate(a*Math.PI/180),s.drawImage(n,-n.width/2,-n.height/2),e.abrupt("return",new Promise((function(e){r.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(106);var y=a(171),D=a(36),j=a(20),O=a(50),U=a.n(O),I=a(35),M=a.n(I),B=(a(112),a(113),function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).dialogText=function(){return r.a.createElement("div",{className:"dialogCheckText"},n.state.text)},n.close=function(){n.props.close(!0)},n.state={open:n.props.open,imgUrl:n.props.imgUrl},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.setState({open:this.props.open}),this.props.imgUrl!==e.imgUrl&&this.setState({imgUrl:this.props.imgUrl})}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{className:"imgViewDialog",open:!0===this.state.open,fullScreen:!0},r.a.createElement("div",{className:"imgViewHead"},r.a.createElement("button",{className:"chatheadBtn",onClick:function(){return e.close()}},r.a.createElement(j.a,{size:36}))),r.a.createElement("div",{className:"imgViewFrame"},r.a.createElement("div",{className:"imgViewDiv"},r.a.createElement("img",{className:"imgViewImg",src:this.state.imgUrl,alt:"..."}))))}}]),a}(r.a.Component)),L=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).imgViewClose=function(e){e&&n.setState({imgViewOpen:!1})},n.stringToColor=function(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);for(var n="#",r=0;r<3;r++){n+=("00"+(t>>8*r&255).toString(16)).substr(-2)}return n},n.state={name:n.props.name,imgLow:n.props.imgLow,imgHigh:n.props.imgHigh,imgViewOpen:!1,imgView:null},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.setState({user:this.props.name}),this.props.imgLow!==e.imgLow&&this.setState({imgLow:this.props.imgLow,imgHigh:this.props.imgHigh})}},{key:"render",value:function(){var e=this,t={background:this.stringToColor(this.state.name)},a=this.state.name.charAt(0),n=this.props.imgLow,s=1;return n&&(s=n.substr(n.lastIndexOf("/")+1)),this.props.imgLow&&void 0!==this.props.imgLow&&"null"!==s&&"undefined"!==s?r.a.createElement("div",null,r.a.createElement("img",{className:"avatar",src:this.state.imgLow,alt:this.state.name,onClick:function(){return e.setState({imgViewOpen:!0,imgView:e.state.imgHigh})}}),r.a.createElement(B,{open:this.state.imgViewOpen,imgUrl:this.state.imgView,close:this.imgViewClose})):r.a.createElement("div",{className:"avatar",style:t},a)}}]),a}(r.a.Component),z={3:180,6:0,8:-90};function H(e){return new Promise((function(t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)}),!1),a.readAsDataURL(e)}))}var T=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).onCropChange=function(e){n.setState({crop:e})},n.onCropComplete=function(e,t){n.setState({croppedAreaPixels:t})},n.onZoomChange=function(e){n.setState({zoom:e})},n.showResult=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({isCropping:!0}),e.next=4,k(n.state.imageSrc,n.state.croppedAreaPixels);case 4:t=e.sent,n.setState({croppedImage:t,isCropping:!1},(function(){return n.callbackCorrectImg(t)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n.setState({isCropping:!1},(function(){return n.onClose()}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.callbackCorrectImg=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.img(t),n.setState({correctImg:t}),n.close();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onClose=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({croppedImage:null});case 1:case"end":return e.stop()}}),e)}))),n.rotation=Object(u.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n.state.file){e.next=2;break}return e.abrupt("return");case 2:return t=n.state.file,e.next=5,H(t);case 5:return a=e.sent,e.next=8,Object(b.getOrientation)(t);case 8:if(r=e.sent,!(s=z[r])){e.next=14;break}return e.next=13,S(a,s);case 13:a=e.sent;case 14:n.setState({imageSrc:a,crop:{x:0,y:0},zoom:1});case 15:case"end":return e.stop()}}),e)}))),n.isHeic=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({blob:t,toType:"image/jpeg",multiple:!1,quality:.2}).then((function(e){n.setState({heicFile:e},(function(){return n.onHeicFileChange()}))})).catch((function(e){console.log("catch file"),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onHeicFileChange=Object(u.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.heicFile,e.next=3,H(t);case 3:return a=e.sent,e.next=6,Object(b.getOrientation)(t);case 6:if(r=e.sent,!(s=z[r])){e.next=12;break}return e.next=11,S(a,s);case 11:a=e.sent;case 12:n.setState({file:t,heicLoad:!1,imageSrc:a,crop:{x:0,y:0},zoom:1});case 13:case"end":return e.stop()}}),e)}))),n.onFileChange=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=17;break}if("image/heic"!==(a=t.target.files[0]).type){e.next=5;break}return n.setState({heicLoad:!0},(function(){return n.isHeic(a)})),e.abrupt("return");case 5:return e.next=7,H(a);case 7:return r=e.sent,e.next=10,Object(b.getOrientation)(a);case 10:if(s=e.sent,!(c=z[s])){e.next=16;break}return e.next=15,S(r,c);case 15:r=e.sent;case 16:n.setState({file:a,imageSrc:r,crop:{x:0,y:0},zoom:1});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.close=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({imageSrc:null});case 1:case"end":return e.stop()}}),e)}))),n.spinner=function(){var e=n.state.heicLoad;return e?r.a.createElement("div",{className:"heicSpinner"},r.a.createElement(M.a,{size:50,margin:2,color:"#000000",loading:e})):n.props.oldImg?r.a.createElement(L,{name:n.props.userName,imgUrl:n.props.imgUrl}):r.a.createElement("button",{className:"fakefile"},r.a.createElement(D.a,{size:30}))},n.state={imageSrc:null,crop:{x:0,y:0},zoom:2,aspect:1,croppedAreaPixels:null,croppedImage:null,isCropping:!1,correctImg:null,file:null,heicFile:null,heicLoad:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"ggg"},r.a.createElement("div",{className:"picPos"},r.a.createElement("div",{className:"imgPadd"},this.spinner()),r.a.createElement("input",{id:"fileInput",className:"hidden",type:"file",accept:"image/* .heic",multiple:"multiple",onChange:this.onFileChange}))),r.a.createElement(y.a,{className:"ImgSizeDialog",open:!!this.state.imageSrc,fullScreen:!0},r.a.createElement("div",{className:this.props.mobil?"imgSizeFrameMobil":"imgSizeFrame"},r.a.createElement("div",{className:"imgSizeHeadDiv"},r.a.createElement("button",{className:"imgSizeHeadDivReturnBtnI",onClick:function(){e.setState({imageSrc:null})},disabled:this.state.isCropping},r.a.createElement(j.a,{className:"imgSizeHeadDivReturnIcon",size:35}))),this.state.imageSrc&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"crop-container"},r.a.createElement(v.a,{image:this.state.imageSrc,crop:this.state.crop,zoom:this.state.zoom,aspect:this.state.aspect,onCropChange:this.onCropChange,onCropComplete:this.onCropComplete,onZoomChange:this.onZoomChange,showGrid:!1})),r.a.createElement("div",{className:"buttonAuswahlConImgSize"},r.a.createElement("button",{className:"buttonAuswahl",onClick:this.showResult,disabled:this.state.isCropping},"Auswahl"))))))}}]),a}(r.a.Component),F=(a(121),function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).dialogText=function(){return r.a.createElement("div",{className:"dialogCheckText"},n.state.text)},n.dialogCallback=function(e){n.props.failChecked(e)},n.state={text:n.props.text,open:n.props.open},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.setState({open:this.props.open}),this.props.text!==e.text&&this.setState({text:this.props.text})}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{className:"checkDialog",open:!0===this.state.open,fullScreen:!0},r.a.createElement("div",{className:"dialogCheckFrame"},this.dialogText(),r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"dialogCheckBtnDiv"},r.a.createElement("button",{className:"dialogCheckBtn",onClick:function(){return e.dialogCallback(!0)}},"Ok"))))}}]),a}(r.a.Component)),R=a(28),_=a.n(R),P=null,A={setUrl:["https://archa-backend.herokuapp.com","http://127.0.0.1:3000"][P=0],setPATH:["wss://archa-backend.herokuapp.com/ws/chat/","ws://localhost:3000/ws/chat/"][P]},V=A.setUrl,W=_.a.create({baseURL:V+"/api"}),J={headers:{"Content-Type":"multipart/form-data;boundary=boundary","Content-Disposition":"attachment;filename=file.jpg"}},q=_.a.create({baseURL:V+"/apiimg"}),Z=_.a.create({baseURL:V+"/apichatimg"}),K={headers:{Accept:"application/json","Content-Type":"multipart/form-data"}},G=_.a.create({baseURL:V+"/apiimgmobil"}),Q=_.a.create({baseURL:V+"/apichatimgmobil"}),X=_.a.create({baseURL:V+"/apichat"}),Y=_.a.create({baseURL:V+"/apichats"}),$=_.a.create({baseURL:V+"/apichatroommap"}),ee={insertUser:function(e){return W.post("/user",e)},updateUserById:function(e,t){return W.patch("/user/".concat(e),t)},deleteUserById:function(e){return W.delete("/user/".concat(e))},getUserById:function(e){return W.get("/user/".concat(e))},insertImg:function(e){return q.post("/images",e,J)},deleteImgById:function(e){return q.delete("/images/".concat(e))},createChatroom:function(e){return X.post("/chatroom",e)},updateLastMess:function(e,t){return Y.put("/chats/".concat(e),t)},updateChatroom:function(e,t){return X.put("/chatroom/".concat(e),t)},deleteChatroomById:function(e,t){return X.delete("/chatroom/".concat(e),t)},getUserbyEmailAndPassw:function(e){return W.put("/user",e)},getUserbySearch:function(e){return W.patch("/user",e)},getNext100Chats:function(e){return Y.get("/chats/".concat(e))},getChatroomMapByUserId:function(e){return $.get("/".concat(e))},messReadHandleByChatroomId:function(e,t){return Y.patch("/chats/".concat(e),t)},insertChatImg:function(e){return Z.post("/images",e,J)},deleteChatImgById:function(e){return Z.delete("/images/".concat(e))},insertImgMobil:function(e){return G.post("/images",e,K)},insertChatImgMobil:function(e){return Q.post("/images",e)},deleteChatroomMapByName:function(e,t){return $.put("/".concat(e),t)}};function te(){return(te=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.insertImg(t).then((function(e){return console.log(e),e.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.insertImgMobil(t).then((function(e){return console.log(e),e.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.deleteImgById(t).then((function(e){if(e)return console.log("bild gel\xf6scht !"),e.success}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.insertChatImg(t).then((function(e){return console.log(e),e.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.insertChatImgMobil(t).then((function(e){return console.log(e),e.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.deleteImgById(t).then((function(e){if(e)return console.log("bild gel\xf6scht !"),e.success}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.insertUser(t).then((function(e){return console.log("res- new User"),console.log(e),e.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getUserById(t).then((function(e){return!!e.data.success&&e.data.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(){return(ue=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getUserbyEmailAndPassw(t).then((function(e){if(e.data.userName){var t=e.data;return console.log(t),t}return!1}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getUserbySearch(t).then((function(e){if(e.data.success){var t=e.data.users;return console.log(t," gefunden !"),t}return!1}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(){return(de=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.updateUserById(t,a).then((function(e){return console.log(e),!!e.data.success&&e.data.update}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(){return(me=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.deleteUserById(t).then((function(e){if(e)return e.success}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function he(){return(he=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.createChatroom(t).then((function(e){return e.data}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.updateChatroom(t,a).then((function(e){return!!e.data.success}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){return(fe=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Map,console.log("lade liste chatroom"),e.next=4,ee.getChatroomMapByUserId(t).then((function(e){var t=e.data.chatrooms;console.log(t);var n=Object.keys(t);console.log(n),n.map((function(e){return a.set(e,t[e])}))}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getNext100Chats(t).then((function(e){return e.data}));case 2:if(!(a=e.sent)){e.next=5;break}return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return(ve=Object(u.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,a),e.next=3,ee.deleteChatroomMapByName(t,a).then((function(e){return console.log("delete chatrrom    ",e.data),e.data}));case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be={imgSave:function(e){return te.apply(this,arguments)},newUserSave:function(e){return oe.apply(this,arguments)},getUser:function(e){return ie.apply(this,arguments)},getUserbyEAndP:function(e){return ue.apply(this,arguments)},getSearch:function(e){return le.apply(this,arguments)},updateUser:function(e,t){return de.apply(this,arguments)},createChatroom:function(e){return he.apply(this,arguments)},updateChatroom:function(e,t){return pe.apply(this,arguments)},deleteImg:function(e){return ne.apply(this,arguments)},deleteUser:function(e){return me.apply(this,arguments)},getCharoomList:function(e){return fe.apply(this,arguments)},get100Mess:function(e){return ge.apply(this,arguments)},chatImgSave:function(e){return re.apply(this,arguments)},deleteChatImg:function(e){return ce.apply(this,arguments)},chatImgSaveMobil:function(e){return se.apply(this,arguments)},imgSaveMobil:function(e){return ae.apply(this,arguments)},deleteChatroomMapByName:function(e,t){return ve.apply(this,arguments)}},Ee={highBlue:"#5ba3c7",grey:"#f0f0f0",pink:"#e8c8c8",green:"#a3c49f",orange:"#ebd7b7",white:"#ffffff",black:"#212121",accentColor:"#2e96e0"},Ce=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).back=function(e){n.props.back(e)},n.handleChange=function(e){var t=e.target;n.setState(Object(l.a)({},t.name,t.value))},n.croppedImg=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.userName,e.next=3,fetch(t).then((function(e){return e.blob()})).then((function(e){return new File([e],a,{type:"image/jpeg",name:"file"})}));case 3:r=e.sent,n.setState({img:r,imgUrl:t,noImg:!1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.insertImg=Object(u.a)(i.a.mark((function e(){var t,a,r,s,c,o,u,l,d,m,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.imgUrl){e.next=14;break}if(t=n.state,a=t.userName,r=t.email,s=t.password,c=t.phone,o=t.color,u={userName:a,email:r,password:s,phone:c,color:o},""!==a&&""!==r&&""!==s){e.next=6;break}return"um sich anzumelden, m\xfcssen die Felder Email, Benutzernamen und passwort ausgef\xfcllt sein!",e.abrupt("return",n.setState({text:"um sich anzumelden, m\xfcssen die Felder Email, Benutzernamen und passwort ausgef\xfcllt sein!",openDialogFail:!0}));case 6:return e.next=8,be.newUserSave(u);case 8:if(!(l=e.sent)){e.next=14;break}if(!1!==l.success){e.next=13;break}return d="Ihre email: "+r+" wird schon von eine anderen Benutzer benutzt",e.abrupt("return",n.setState({text:d,openDialogFail:!0}));case 13:return e.abrupt("return",n.props.newUser(l));case 14:return m=n.state.img,e.next=17,be.imgSave(m);case 17:(h=e.sent)&&n.insertNewUser(h);case 19:case"end":return e.stop()}}),e)}))),n.insertNewUser=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r,s,c,o,u,l,d,m,h,p,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.imgLow,r=t.imgHigh,s=t.id,c=n.state,o=c.userName,u=c.email,l=c.password,d=c.phone,m=c.color,h={userName:o,email:u,password:l,phone:d,imgId:s,imgLow:a,imgHigh:r,color:m},e.next=7,be.newUserSave(h);case 7:if(!(p=e.sent)){e.next=16;break}if(p.id){e.next=14;break}return f="Ihre email: "+p.email+" wird schon von eine anderen Benutzer benutzt",e.abrupt("return",n.setState({text:f,openDialogFail:!0}));case 14:n.setState({insertNewUser:!0}),n.props.newUser(p);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.userFail=function(){n.setState({openDialogFail:!1,step:1})},n.state={step:1,email:"",phone:"",userName:"",password:"",img:"",imgUrl:"",noImg:!0,imgId:null,insertNewUser:!1,openDialogFail:!1,text:"",color:{backgroundColor:Ee.white,bubbleColor:Ee.highBlue,fontColor:Ee.white,fontColor2:Ee.black,bubbleColor2:Ee.grey}},n.regisSteps=n.regisSteps.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.navibuttons=n.navibuttons.bind(Object(h.a)(n)),n.profilImg=n.profilImg.bind(Object(h.a)(n)),n.insertNewUser=n.insertNewUser.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"profilImg",value:function(){var e=this;return this.state.noImg?r.a.createElement("div",{className:"regisImgDiv"},r.a.createElement(T,{img:this.croppedImg,mobil:this.props.mobil})):r.a.createElement("div",{className:"regisImgDiv"},r.a.createElement("img",{className:"regisImg",src:this.state.imgUrl,alt:this.state.userName}),r.a.createElement("button",{className:"regisImgBtn",onClick:function(){return e.setState({noImg:!0})}},"x"))}},{key:"regisSteps",value:function(){switch(this.state.step){case 1:return r.a.createElement("div",{className:"regisStepsDiv"},r.a.createElement("div",{className:"loginframeTxt2"},"Telefonnummer:"),r.a.createElement("div",{className:"regisInputDiv"},r.a.createElement("input",{className:"regisInput",type:"number",name:"phone",value:this.state.phone,onChange:this.handleChange})),r.a.createElement("div",{className:"loginframeTxt2"},"oder"),r.a.createElement("div",{className:"loginframeTxt2"},"E-mail:"),r.a.createElement("div",{className:"regisInputDiv"},r.a.createElement("input",{className:"regisInput",type:"email",name:"email",value:this.state.email,onChange:this.handleChange})));case 2:return r.a.createElement("div",{className:"regisStepsDiv"},this.profilImg(),r.a.createElement("div",{className:"loginframeTxt2"},"Benutzername:"),r.a.createElement("div",{className:"regisInputDiv"},r.a.createElement("input",{className:"regisInput",type:"text",name:"userName",value:this.state.userName,onChange:this.handleChange})),r.a.createElement("div",{className:"loginframeTxt2"}),r.a.createElement("div",{className:"loginframeTxt2"},"Passwort:"),r.a.createElement("div",{className:"regisInputDiv"},r.a.createElement("input",{className:"regisInput",type:"text",name:"password",value:this.state.password,onChange:this.handleChange})));case 3:var e=this.state.insertNewUser;return r.a.createElement("div",{className:"regisStepsDiv"},r.a.createElement("div",{className:"loginframeTxt2"},"erstellt"),r.a.createElement("div",{className:"loginframeTxt2"},"Benutzer"),r.a.createElement("div",{className:"heicSpinner"},r.a.createElement(M.a,{size:50,margin:2,color:"#639cdd",loading:e})));default:return null}}},{key:"navibuttons",value:function(){var e=this;return 1===this.state.step?r.a.createElement("div",{className:"regisStepsBtnDiv"},r.a.createElement("button",{className:"regisStepsBtnBack",onClick:function(){1===e.state.step?e.back(!0):e.setState({step:e.state.step-1})}},r.a.createElement(g.b,{size:40}),r.a.createElement("div",{className:"regisStepsTextBtn"},"zur\xfcck")),r.a.createElement("button",{className:"regisStepsBtnNext",onClick:function(){e.setState({step:e.state.step+1})}},r.a.createElement("div",{className:"regisStepsTextBtn"},"weiter"),r.a.createElement(g.c,{size:40}))):2===this.state.step?r.a.createElement("div",{className:"regisStepsBtnDiv"},r.a.createElement("button",{className:"regisStepsBtnBack",onClick:function(){e.setState({step:e.state.step-1})}},r.a.createElement(g.b,{size:40}),r.a.createElement("div",{className:"regisStepsTextBtn"},"zur\xfcck")),r.a.createElement("button",{className:"regisStepsBtnNext",onClick:function(){e.setState({step:e.state.step+1},(function(){return e.insertImg()}))}},r.a.createElement("div",{className:"regisStepsTextBtn"},"erstellen"),r.a.createElement(g.c,{size:40}))):void 0}},{key:"render",value:function(){return r.a.createElement("div",{className:"regisScreen"},this.regisSteps(),this.navibuttons(),r.a.createElement(F,{text:this.state.text,open:this.state.openDialogFail,failChecked:this.userFail}))}}]),a}(r.a.Component),ke=(a(138),a(49)),we=(a(139),a(172)),Ne=a(33),Se=(a(140),function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).dialogText=function(){return r.a.createElement("div",{className:"dialogCheckText"},n.state.text)},n.dialogCallback=function(e){n.props.checked(e)},n.state={text:n.props.text,open:n.props.open},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.setState({open:this.props.open}),this.props.text!==e.text&&this.setState({text:this.props.text})}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{className:"checkDialog",open:!0===this.state.open,fullScreen:!0},r.a.createElement("div",{className:"dialogCheckFrame"},this.dialogText(),r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"dialogCheckBtnDiv"},r.a.createElement("button",{className:"dialogCheckBtn",onClick:function(){return e.dialogCallback(!0)}},"ja"),r.a.createElement("button",{className:"dialogCheckBtn",onClick:function(){return e.dialogCallback(!1)}},"nein"))))}}]),a}(r.a.Component)),xe=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).close=function(){n.props.close(!0)},n.chatroomClose=function(e){n.props.chatroomClose(e),n.props.close(!0)},n.openSelect=function(e){n.props.openSelect(e)},n.logoutHandle=function(){n.close(),n.props.logout(!0)},n.DialogCheckText=function(e,t){var a=r.a.createElement("div",null,"Achtung !   der Chatroom mit ",r.a.createElement("div",{style:{fontWeight:"bold"}},"'",e,"'")," und der gesamte Inhalt werden gel\xf6scht !");n.setState({text:a,dialogCheck:!0,userDelete:t})},n.deleteUserBtn=function(){var e=n.props.useContact,t=n.props.chatroomMap,a=new Map(Object(ke.a)(t));if(null===e||0===a.size)return null;var s=a.get(e).userName,c=a.get(e).imgLow;return r.a.createElement("button",{className:"Menubtnchatroomuser",onClick:function(){return n.DialogCheckText(s,e)}},r.a.createElement("div",{className:"Menuchatroomuser"},r.a.createElement("div",{className:"MenuchatroomuserDiv"},r.a.createElement("div",{className:"MenuTrashIconDiv"}," ",r.a.createElement(Ne.b,{className:"trashMenuIcon",size:20})),r.a.createElement("div",{className:"MenuchatroomImgDiv"},r.a.createElement(L,{name:s,imgUrl:c})),r.a.createElement("div",{className:"MenuchatroomProfilName"},s))))},n.callbackDialogcheck=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r,s,c,o,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}return console.log("huhu"),a=n.state.user.id,n.setState({dialogCheck:!1}),r=n.props.chatroomMap,s=new Map(Object(ke.a)(r)),c=n.props.useContact,o=s.get(c).name,u={chatroomName:o},console.log(o),e.next=12,be.deleteChatroomMapByName(a,u);case 12:if(!(l=e.sent)){e.next=18;break}return console.log(l),e.abrupt("return");case 18:e.next=21;break;case 20:n.setState({dialogCheck:!1});case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.clearStarage=function(){localStorage.removeItem("login_archa"),n.logoutHandle()},n.state={open:n.props.open,imgUrl:n.props.imgHigh,user:n.props.user,useContact:n.props.useContact,dialogCheck:!1,text:"Achtung !!!, der Chatroom wird mit allen Daten gel\xf6scht",userDelete:null},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.open!==e.open&&this.setState({open:this.props.open}),this.props.user!==this.state.user&&this.setState({user:this.props.user})}},{key:"componentWillUnmount",value:function(){this.setState({text:"",userDelete:null})}},{key:"render",value:function(){var e=this;return r.a.createElement(we.a,{id:"menu-topbar",anchorEl:this.props.anchorEl,getContentAnchorEl:null,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onBackdropClick:function(){return e.close()},open:!0===this.state.open},r.a.createElement("div",{className:this.props.mobil?"topbarDropdownFrameMobil":"topbarDropdownFrame"},r.a.createElement("button",{className:"topbarDropdownBtn",onClick:function(){return e.openSelect(2)}},"Profil"),r.a.createElement("button",{className:"topbarDropdownBtn",onClick:function(){return e.openSelect(3)}},"Farben"),r.a.createElement("button",{className:"topbarDropdownBtn"},"\xfcber Archa"),r.a.createElement("button",{className:"topbarDropdownBtn"},"Impressum"),this.props.useContact?this.deleteUserBtn():r.a.createElement("button",{className:"topbarDropdownBtn"},"l\xf6schen"),r.a.createElement("button",{className:"topbarDropdownBtn",onClick:function(){return e.clearStarage()}},"Abmelden "),r.a.createElement("button",{className:"topbarDropdownBtn",onClick:function(){return e.logoutHandle()}},"Ausloggen"),r.a.createElement(Se,{text:this.state.text,open:this.state.dialogCheck,checked:this.callbackDialogcheck})))}}]),a}(r.a.Component),ye=a(83),De=A.setPATH,je=function(){function e(){Object(d.a)(this,e),this.callbacks={},this.socketRef=null}return Object(m.a)(e,null,[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),Object(m.a)(e,[{key:"connect",value:function(e){var t=this,a=De+e+"/";this.socketRef=new WebSocket(a),this.socketRef.onopen=function(e){console.log(e),console.log("WebSocket open")},this.socketRef.onmessage=function(e){t.socketNewMessage(e.data)},this.socketRef.onerror=function(e){console.log(e.message)},this.socketRef.onclose=function(){console.log("WebSocket closed let's reopen")}}},{key:"disconnect",value:function(){console.log("websocket schllesen"),this.socketRef.close()}},{key:"socketNewMessage",value:function(e){var t=JSON.parse(e),a=t.command;0!==Object.keys(this.callbacks).length&&(Object.keys(this.callbacks).length,"messages"===a&&(console.log(a,"socket"),this.callbacks[a](t.messages)),"new_message"===a&&(console.log("socket_new_mess "),this.callbacks[a](t.message)),"new_room"===a&&(console.log("socket_new_room"),this.callbacks[a](t.message)),"create_room"===a&&(console.log("socket_create_room"),this.callbacks[a](t.message)),"read_message"===a&&(console.log("socket_read_message"),this.callbacks[a](t.message)),"init_chat"===a&&(console.log("socket_status => user init"),this.callbacks[a](t.message)),"user_status"===a&&(console.log("socket_status => user status"),this.callbacks[a](t.message)),"hacking"===a&&(console.log("socket_status => keyboard hack"),this.callbacks[a](t.message)))}},{key:"initChatUser",value:function(e){this.sendMessage({command:"init_chat",user:e})}},{key:"fetchMessages",value:function(e){this.sendMessage({command:"fetch_messages",username:e})}},{key:"newChatMessage",value:function(e){e.command="new_message",this.sendMessage(e)}},{key:"onEnterRoom",value:function(e){e.command="read_message",this.sendMessage(e)}},{key:"contactPing",value:function(e){e.command="contact_ping",this.sendMessage(e)}},{key:"answerPing",value:function(e){e.command="answer_ping",this.sendMessage(e)}},{key:"statusUser",value:function(e){e.command="user_status",this.sendMessage(e)}},{key:"hacking",value:function(e){e.command="hacking",this.sendMessage(e)}},{key:"addCallbacks",value:function(e){this.callbacks.new_message=e,this.callbacks.new_room=e,this.callbacks.create_room=e,this.callbacks.read_message=e,this.callbacks.init_chat=e,this.callbacks.user_status=e,this.callbacks.hacking=e}},{key:"sendMessage",value:function(e){try{this.socketRef.send(JSON.stringify(Object(ye.a)({},e)))}catch(t){console.log(t.message)}}},{key:"state",value:function(){return this.socketRef.readyState}},{key:"waitForSocketConnection",value:function(e){var t=this.socketRef,a=this.waitForSocketConnection;setTimeout((function(){if(1===t.readyState)return console.log("Connection is made"),void(null!=e&&e());console.log("wait for connection..."),a(e)}),1)}}]),e}();je.instance=null;var Oe=je.getInstance(),Ue=function(){return console.log("connection ws"),{register:function(e){!function(e){var t=void 0;setTimeout((function(){if(1===Oe.state())return console.log("Connection is made"),void e();console.log("wait for connection..."),t.waitForSocketConnection(e)}),15e3)}((function(){return Oe.initChatUser(e)}))},message:function(e,t,a,n,r,s){var c={author:s,text:t,room:e,imgHigh:a,imgLow:n,imgId:r};Oe.newChatMessage(c)},hack:function(e,t,a){var n={text:"hacking",author:a,charLength:t,chatroomName:e};Oe.hacking(n)},callbackPool:function(e){Oe.addCallbacks(e)},unregisterHandler:function(){},disconnect:function(){console.log("hier"),Oe.disconnect()},connect:function(e){Oe.connect(e)},pingContact:function(e){var t=e;t.text="new_room",Oe.contactPing(t)},pingAnswer:function(e){var t=e;t.text="create_room",Oe.answerPing(t)},onEnterRoom:function(e,t){var a={room:e,user:t};Oe.onEnterRoom(a)},userStatus:function(e){var t=e;t.text="user_status",Oe.statusUser(t)}}},Ie=a(34),Me=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).getImg=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n.state.user){e.next=3;break}return n.setState({build:!1}),e.abrupt("return");case 3:n.props.user.imgUrl||n.setState({build:!0}),t=n.props.user.imgLow,n.setState({imgUrl:t});case 6:case"end":return e.stop()}}),e)}))),n.updateUser=function(e){n.props.updateUserHome(e)},n.menuClose=function(e){e&&n.setState({dropdown:!1})},n.chatroomClose=function(e){e&&n.props.chatroomClose(e)},n.logoutHandle=function(e){n.setState({build:!1}),n.props.logout(e)},n.openSelect=function(e){n.setState({dropdown:!1}),n.props.openSelect(e)},n.dialogCallback=function(e){e?n.setState({dialogCheck:!1},(function(){return n.addChatUser(n.state.inviIndex)})):n.setState({dialogCheck:!1})},n.handleClickDropdown=function(){n.setState({anchorEl:n.divRef.current,dropdown:!0})},n.state={user:n.props.user,imgUrl:null,build:!1,dialogCheck:!1,inviIndex:null,dropdown:!1,client:Ue(),accentColor:Ee.accentColor,s3upload:!1},n.divRef=r.a.createRef(),n.userData=n.userData.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.user!==t.user&&(null!==this.props.user?this.setState({user:this.props.user,build:!0}):this.setState({user:this.props.user,build:!1,imgUrl:null,invitUserName:[],invitUserImgUrl:[],dialogCheck:!1,inviIndex:null,dropdown:!1,useContact:this.props.useContact,anchorEl:null}))}},{key:"userData",value:function(){var e=this,t=this.props.user;return this.state.build?r.a.createElement("div",{className:"topScreenDiv"},r.a.createElement("div",{className:"topScreenLeftSide"},r.a.createElement("div",{className:"topSreenAppName"},"ARCHA")),r.a.createElement("div",{className:"topScreenRightSide"},r.a.createElement("div",{className:"topScreenUser",style:{color:Ee.accentColor}},this.state.user.userName),r.a.createElement("div",{className:"topScreenImgDiv"},r.a.createElement(L,{name:t.userName,imgLow:this.state.user.imgLow,imgHigh:this.state.user.imgHigh})),r.a.createElement("div",{ref:this.divRef},r.a.createElement("button",{className:"topScreenMenuBtn","aria-owns":this.state.anchorEl?"menu-topbar":null,"aria-haspopup":"true",onClick:function(){return e.handleClickDropdown()}},r.a.createElement(g.d,{size:35}))))):r.a.createElement("div",{className:"topScreenDiv"},r.a.createElement("div",{className:"topScreenLeftSide"},r.a.createElement("div",{className:"topSreenAppName"},"ARCHA")),r.a.createElement("div",{className:"topScreenRightSide"},r.a.createElement("div",{className:"topScreenUser"}),r.a.createElement("div",{className:"topScreenImgDiv"})))}},{key:"render",value:function(){return r.a.createElement("div",{className:"topScreen"},this.userData(),r.a.createElement(xe,{open:this.state.dropdown,close:this.menuClose,chatroomClose:this.chatroomClose,useContact:this.props.useContact,logout:this.logoutHandle,user:this.props.user,anchorEl:this.state.anchorEl,updateUserCallback:this.updateUser,mobile:this.props.mobil,chatroomMap:this.props.chatroomMap,openSelect:this.openSelect}))}}]),a}(r.a.Component),Be=a(91),Le=a(38),ze=(a(76),a(142),a(86)),He=a.n(ze),Te=a(87),Fe=a.n(Te);function Re(){return r.a.createElement("div",{className:"heicSpinnerChat"},r.a.createElement(Ie.ClassicSpinner,{size:50,margin:2,color:"#000000",loading:!0}))}function _e(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"chatValue"},e.value))}var Pe=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleScroll=function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&console.log("am boden"),0===t.scrollTop&&(console.log("oben"),n.get100Mess())},n.get100Mess=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),n.backhandle=function(e){n.props.closeMess(e)},n.scrollToBottom=function(e){n.messagesEnd.scrollIntoView({behavior:e,block:"nearest",inline:"end"})},n.imgViewClose=function(e){e&&n.setState({imgViewOpen:!1})},n.imgChatBlase=function(e,t){if(e.imgId&&e.imgLow)return r.a.createElement(Fe.a,{src:e.imgLow},r.a.createElement("img",{className:t?"imgBlase":"imgBlaseChatUser",onClick:function(){return n.setState({imgViewOpen:!0,imgView:e.imgLow})},alt:"..."}),r.a.createElement("div",null,"Error!"),r.a.createElement(Re,null))},n.singleEmoji=function(e){return!(2!==e.length||!e.match(He()().join("|")))},n.chatVerlauf=function(){var e={hour12:!1,hour:"2-digit",minute:"2-digit"},t={month:"short",day:"numeric"};if(n.props.chatroom.chat===[])return null;var a,s=!0,c=[],o="",i=Object(Le.a)(n.props.chatroom.chat);try{for(i.s();!(a=i.n()).done;){var u=a.value;if(u.message||u.imgLow){s=u.author!==n.props.user.id;var l=2;u.read&&(l=3),new Date(u.date).toLocaleString("de-DE",t)!==o&&(o=new Date(u.date).toLocaleString("de-DE",t),c.push(r.a.createElement("div",{className:"chatDateLine",style:"rgb(93, 100, 102)"===n.props.user.color.backgroundColor?null:{color:"black",borderBottomColor:"black"}},o))),c.push(r.a.createElement("div",{className:s?"chatinList":"chatinListChatUser"},r.a.createElement("div",{className:s?"chatblase":"chatblaseChatUser",style:s?{background:n.props.user.color.bubbleColor2}:{background:n.props.user.color.bubbleColor}},r.a.createElement("div",{className:"chatMessage"},u.imgId?r.a.createElement("div",null,n.imgChatBlase(u,s)):null,r.a.createElement("div",{className:s?"chatMessageBlase":"chatMessageBlaseChatUser",style:s?{color:n.props.user.color.fontColor2}:{color:n.props.user.color.fontColor}},n.singleEmoji(u.message)?r.a.createElement("div",{className:"singleEmoji"},u.message):u.message),r.a.createElement("div",{className:s?"chatdate":"chatdateChatUser"},r.a.createElement("div",null,new Date(u.date).toLocaleTimeString("de-DE",e)),r.a.createElement("div",null,s?null:n.messageStatus(l)))))))}}}catch(d){i.e(d)}finally{i.f()}return c.map((function(e){return r.a.createElement(_e,{value:e,key:c.indexOf(e)})}))},n.messageStatus=function(e){switch(e){case 1:return r.a.createElement("div",{className:"chatMessageStatus"},r.a.createElement(Ne.a,{size:8}));case 2:return r.a.createElement("div",{className:"chatMessageStatus"},r.a.createElement(Ne.a,{size:8}),r.a.createElement(Ne.a,{size:8}));case 3:return r.a.createElement("div",{className:"chatMessageStatusColor"},r.a.createElement(Ne.a,{size:8}),r.a.createElement(Ne.a,{size:8}))}},n.state={start:!1,input:"",date:new Date,imgViewOpen:!1,imgView:null,imgLoading:0,chatsLength:n.props.chatroom.chat.length,imgCount:n.props.chatroom.chat.filter((function(e){return null!==e.imgLow}))},n.backhandle=n.backhandle.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.chatroom.chat.length!==t.chatsLength&&(console.log("neue nachtricht"),setTimeout((function(){return a.scrollToBottom("smooth")}),100))}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.scrollToBottom("auto")}),100),console.log("======> nachtrichten lesen")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chatFrame",style:{background:this.props.user.color.backgroundColor}},r.a.createElement("div",{className:"chatListVerlauf",ref:function(t){t&&t.addEventListener("scroll",e.handleScroll)}},this.chatVerlauf(),this.props.imgSend?r.a.createElement("div",{className:"heicSpinnerStartDiv"},r.a.createElement(Ie.ClassicSpinner,{size:50,margin:2,color:"#639cdd",loading:!0})):null,r.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})),r.a.createElement(B,{open:this.state.imgViewOpen,imgUrl:this.state.imgView,close:this.imgViewClose}))}}]),a}(r.a.Component);a(77);function Ae(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"chatValue"},e.value))}var Ve=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleSearch=function(e){var t,a=e.target;n.setState((t={},Object(l.a)(t,a.name,a.value),Object(l.a)(t,"searchFound",!1),t),(function(){return n.searchChatUser()}))},n.search=function(){return r.a.createElement("div",{className:"searchFrame"},r.a.createElement("div",{className:"searchDiv"},r.a.createElement("div",{className:"searchInputDiv"},r.a.createElement("input",{className:"searchInput",type:"text",name:"search",placeholder:"Suche",value:n.state.search,onChange:n.handleSearch}),r.a.createElement("button",{className:"searchIconBtn",onClick:function(){return n.searchChatUser()}},r.a.createElement(g.e,{size:30}))),n.addChatUser()))},n.searchChatUser=Object(u.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.state.search){e.next=2;break}return e.abrupt("return");case 2:return t=n.state.search,a=n.state.user.id,r={search:t,user:a},e.next=7,be.getSearch(r);case 7:(s=e.sent)&&(console.log(s),n.setState({chatUser:s,searchFound:!0}));case 9:case"end":return e.stop()}}),e)}))),n.addChatUser=function(){if(n.state.searchFound){var e=[];return n.state.chatUser.forEach((function(t){e.push(r.a.createElement("div",{className:"searchFoundFrame"},r.a.createElement("button",{className:"searchUserBtn",onClick:function(){return n.setState({dialogCheck:!0,selectUser:t})}},r.a.createElement("div",{className:"searchUserImgDiv"},r.a.createElement(L,{name:t.userName,imgLow:t.imgLow,imgHigh:t.imgHigh})),r.a.createElement("div",{className:"searchUserNameDiv"},t.userName),r.a.createElement("div",{className:"searchUserIcon"},r.a.createElement(g.a,{size:36}))),r.a.createElement(Se,{text:r.a.createElement("div",null,"m\xf6chtest du ",r.a.createElement("div",{style:{fontWeight:"bold"}},t.userName)," zu dein kontakten hinzuf\xfcgen ?"),open:n.state.dialogCheck,checked:n.dialogCallback})))})),e.map((function(t){return r.a.createElement(Ae,{value:t,key:e.indexOf(t)})}))}return null},n.dialogCallback=function(e){e?n.setState({search:"",dialogCheck:!1,searchFound:!1},(function(){return n.updateContactUser()})):n.setState({search:"",dialogCheck:!1,searchFound:!1,selectUser:null})},n.updateContactUser=function(){var e=n.state.user._id,t=n.state.selectUser.id;if(e!==t&&!n.state.user.contacts.find((function(e){return e===t}))){var a={user:n.state.selectUser,chatUser:!0};n.props.selectUser(a),n.setState({selectUser:null})}},n.state={user:n.props.user,chat:!1,search:"",conracts:null,searchFound:!1,chatUser:null,dialogCheck:!1,selectUser:null},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,this.search())}}]),a}(r.a.Component),We=a(88);function Je(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"chatValue"},e.value))}var qe=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target;n.setState(Object(l.a)({},t.name,t.value))},n.runopenChatbox=function(e){n.props.openChat(e)},n.dialogCallback=function(e){n.setState({openDialogCheck:!1})},n.searchUpdate=function(e){n.setState({user:e})},n.messageReads=function(e){return e.chat.filter((function(e){return e.author!==n.props.user.id})).filter((function(e){return!1===e.read})).length},n.inquiry=function(e,t,a,s){return r.a.createElement("div",{className:"chatroominListe"},r.a.createElement("button",{className:"btnchatroomuser",onClick:function(){return n.props.createRoom(e)}},r.a.createElement("div",{className:"chatroomuser"},r.a.createElement("div",{className:"chatroomuserDiv"},r.a.createElement("div",{className:"chatroomImgDiv"},r.a.createElement(L,{name:t,imgLow:a,imgHigh:s})),r.a.createElement("div",{className:"chatroomSpecsDiv"},r.a.createElement("div",{className:"chatroomTxtDivTop"},r.a.createElement("div",{className:"chatroomProfilName"},t)),r.a.createElement("div",{className:"chatroomTxtDivBotton"},r.a.createElement("div",{className:"chatroomLastChatDiv"},"...fragt nach einem gemeinsamen Chatroom")))))))},n.chatrooms=function(){var e,t={month:"short",day:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit"},a=function(e){if(e[1].chat){var t=e[1].chat[e[1].chat.length-1];if(t)return new Date(t.date)}return new Date(2021,0,1)},s=[],c=n.props.chatroomMap,o=Object(ke.a)(c.entries()).sort((function(e,t){return a(t)-a(e)})),i=new Map(o).keys(),u=Object(Le.a)(i);try{var l=function(){var a=e.value,o=c.get(a).text,i=n.props.online.find((function(e){return e===c.get(a).id})),u=c.get(a).userName,l=c.get(a).imgLow,d=c.get(a).imgHigh;if("new_room"===o)s.push(n.inquiry(c.get(a),u,l,d));else{var m=c.get(a).chat,h=n.messageReads(c.get(a)),p=m.length<=0?"Leerer Chat":m[m.length-1].message,f=m.length<=0?null:m[m.length-1].author,g=m.length<=0?"":m[m.length-1].date;s.push(r.a.createElement("div",{className:"chatroominListe"},r.a.createElement("button",{className:"btnchatroomuser",onClick:function(){return n.runopenChatbox(a)}},r.a.createElement("div",{className:"chatroomuser"},r.a.createElement("div",{className:"chatroomuserDiv"},r.a.createElement("div",{className:"chatroomImgDiv"},r.a.createElement(L,{name:u,imgLow:l,imgHigh:d}),0===h?null:r.a.createElement("div",{className:"underDateDiv"},r.a.createElement("div",{className:"messageCountDiv"},h))),r.a.createElement("div",{className:"chatroomSpecsDiv"},r.a.createElement("div",{className:"chatroomTxtDivTop"},r.a.createElement("div",{className:"chatroomProfilName"},u),r.a.createElement("div",{className:"chatroomProfilDate"},new Date(g).toLocaleDateString("de-DE",t))),r.a.createElement("div",{className:"chatroomTxtDivBotton"},r.a.createElement("div",{className:"chatroomLastChatDiv"},""===p?r.a.createElement(We.a,{size:35}):r.a.createElement("div",null,r.a.createElement("div",{style:{color:"rgb(99, 156, 221)"}},f!==n.props.user.id?null:"Du: "),'"',p,'"')),i?r.a.createElement("div",{className:"chatroomJoined"},"online"):null)))))))}};for(u.s();!(e=u.n()).done;)l()}catch(d){u.e(d)}finally{u.f()}return s.map((function(e){return r.a.createElement(Je,{value:e,key:s.indexOf(e)})}))},n.state={date:new Date,user:n.props.user,chatrooms:n.props.user.chatrooms,chatroomMap:n.props.chatroomMap,loading:!0,openChat:null,chatMap:null,usersMap:null,chatUserJoined:null,avatar:null,client:Ue(),start:!0,chatUser:null,openDialogCheck:!1,progress:!1},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.props.chatroomView?r.a.createElement("div",{className:"chatroomDiv"},r.a.createElement("div",{className:"chatListRooms"},r.a.createElement(Ve,{user:this.state.user,selectUser:this.props.openNewChat}),r.a.createElement("div",{className:"chatroomListeFrame"},this.chatrooms(),r.a.createElement(Se,{text:r.a.createElement("div",null,"m\xf6chtest du ",r.a.createElement("div",{style:{fontWeight:"bold"}})," zu dein kontakten hinzuf\xfcgen ?"),open:this.state.openDialogCheck,checked:this.dialogCallback})))):null}}]),a}(r.a.Component),Ze=function(e){return new Promise((function(t,a){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return a(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function Ke(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(u.a)(i.a.mark((function e(t){var a,n,r,s,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:0,e.next=3,Ze(t);case 3:return n=e.sent,r=document.createElement("canvas"),s=r.getContext("2d"),90===a||-90===a||270===a||-270===a?(r.width=n.height,r.height=n.width):(r.width=n.width,r.height=n.height),s.translate(r.width/2,r.height/2),s.rotate(a*Math.PI/180),s.drawImage(n,-n.width/2,-n.height/2),e.abrupt("return",new Promise((function(e){r.toBlob((function(t){e(URL.createObjectURL(t))}),"image/jpeg")})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(143);var Qe=a(89),Xe=a.n(Qe),Ye=(a(144),function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).close=function(){n.setState({show:!1})},n.onEmojiClick=function(e,t){n.props.emoji(t.emoji)},n.emojiPicker=function(){return r.a.createElement(y.a,{className:"emojiDialog",open:!0===n.state.show,onBackdropClick:function(){return n.close()}},r.a.createElement("div",{className:"emojiDialogDiv"},r.a.createElement(Xe.a,{onEmojiClick:n.onEmojiClick})))},n.state={chosenEmoji:null,setChosenEmoji:null,show:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("button",{className:"emojiBtn",onClick:function(){return e.setState({show:!0})}},r.a.createElement(D.b,{size:20})),this.emojiPicker())}}]),a}(r.a.Component)),$e={3:180,6:0,8:-90};function et(e){return new Promise((function(t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)}),!1),a.readAsDataURL(e)}))}var tt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target;n.setState(Object(l.a)({},t.name,t.value))},n.handleChangeEmoji=function(e){n.setState({input:n.state.input+e})},n.onCropChange=function(e){n.setState({crop:e})},n.onCropComplete=function(e,t){n.setState({croppedAreaPixels:t})},n.onZoomChange=function(e){n.setState({zoom:e})},n.callbackCorrectImg=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.props.img(t,n.state.input),n.setState({correctImg:t,input:""}),n.close();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onClose=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({croppedImage:null,input:""});case 1:case"end":return e.stop()}}),e)}))),n.rotation=Object(u.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n.state.file){e.next=2;break}return e.abrupt("return");case 2:return t=n.state.file,e.next=5,et(t);case 5:return a=e.sent,e.next=8,Object(b.getOrientation)(t);case 8:if(r=e.sent,!(s=$e[r])){e.next=14;break}return e.next=13,Ke(a,s);case 13:a=e.sent;case 14:n.setState({imageSrc:a,crop:{x:0,y:0},zoom:1});case 15:case"end":return e.stop()}}),e)}))),n.isHeic=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U()({blob:t,toType:"image/jpeg",multiple:!1,quality:.1}).then((function(e){n.setState({heicFile:e},(function(){return n.onHeicFileChange()}))})).catch((function(e){console.log("catch file"),console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onHeicFileChange=Object(u.a)(i.a.mark((function e(){var t,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.heicFile,e.next=3,et(t);case 3:return a=e.sent,e.next=6,Object(b.getOrientation)(t);case 6:if(r=e.sent,!(s=$e[r])){e.next=12;break}return e.next=11,Ke(a,s);case 11:a=e.sent;case 12:n.setState({file:t,heicLoad:!1,imageSrc:a,crop:{x:0,y:0},zoom:1});case 13:case"end":return e.stop()}}),e)}))),n.onFileChange=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files&&t.target.files.length>0)){e.next=17;break}if("image/heic"!==(a=t.target.files[0]).type){e.next=5;break}return n.setState({heicLoad:!0},(function(){return n.isHeic(a)})),e.abrupt("return");case 5:return e.next=7,et(a);case 7:return r=e.sent,e.next=10,Object(b.getOrientation)(a);case 10:if(s=e.sent,!(c=$e[s])){e.next=16;break}return e.next=15,Ke(r,c);case 15:r=e.sent;case 16:n.setState({file:a,imageSrc:r,crop:{x:0,y:0},zoom:1});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.close=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.setState({imageSrc:null,croppedAreaPixels:null,croppedImage:null,isCropping:!1,correctImg:null,file:null,heicFile:null,heicLoad:!1,input:""});case 1:case"end":return e.stop()}}),e)}))),n.spinner=function(){var e=n.state.heicLoad;return e?r.a.createElement("div",{className:"heicSpinner"},r.a.createElement(M.a,{size:30,margin:2,color:"#000000",loading:e})):r.a.createElement("button",{className:"fakefile"},r.a.createElement(D.a,{size:20}))},n.state={imageSrc:null,crop:{x:0,y:0},zoom:2,aspect:1,croppedAreaPixels:null,croppedImage:null,isCropping:!1,correctImg:null,file:null,heicFile:null,heicLoad:!1,input:""},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"ggg"},r.a.createElement("div",{className:"picPos"},r.a.createElement("div",{className:"imgPadd"},this.spinner()),r.a.createElement("input",{id:"fileInput",className:"hidden",type:"file",accept:"image/* .heic",multiple:"multiple",onChange:this.onFileChange}))),r.a.createElement(y.a,{className:"ImgChatDialog",open:!!this.state.imageSrc,fullScreen:!0},r.a.createElement("div",{className:this.props.mobile?"imgChatFrameMobil":"imgChatFrame"},r.a.createElement("div",{className:"chatheadImg"},r.a.createElement("button",{className:"chatheadBtnImg",onClick:function(){return e.close()}},r.a.createElement(j.a,{size:16}))),this.state.imageSrc&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"imgChatImgDiv"},r.a.createElement("img",{className:"imgChatImg",src:this.state.imageSrc,alt:"..."})),r.a.createElement("div",{className:"chatEingabe"},r.a.createElement("textarea",{className:"chatInput",placeholder:"deine Nachricht...",name:"input",value:this.state.input,onChange:this.handleChange}),r.a.createElement("div",{className:"chatEingabeIcons"},r.a.createElement(Ye,{emoji:this.handleChangeEmoji})),r.a.createElement("div",{className:"chatEingbeRight"},r.a.createElement("button",{className:"chatBtn",onClick:function(){return e.callbackCorrectImg(e.state.imageSrc)}},"senden")))))))}}]),a}(r.a.Component),at=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=n.props.chatroomName,r=t.value.length,s=n.props.user.id;[1,5,10,15,20,25,30,35,40,45,50,55,60,65,70].find((function(e){return e===r}))&&n.state.client.hack(a,t.value.length,s),n.setState(Object(l.a)({},t.name,t.value))},n.handleChangeEmoji=function(e){n.setState({input:n.state.input+e})},n.useImg=function(){var e=Object(u.a)(i.a.mark((function e(t,a){var r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.user.userName,e.next=3,fetch(t).then((function(e){return e.blob()})).then((function(e){return new File([e],r,{type:"image/jpeg"})}));case 3:return s=e.sent,e.next=6,be.chatImgSave(s);case 6:(c=e.sent)&&n.setState({img:s,storageImg:c,input:a},(function(){return n.send()}));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.send=function(){n.props.send(n.state.input,n.state.storageImg.imgLow,n.state.storageImg.imgHigh,n.state.storageImg.id),n.setState({input:"",img:null,storageImg:{imgLow:null,imgHigh:null,id:null},imgId:null})},n.state={input:"",img:null,storageImg:{imgLow:null,imgHigh:null,id:null},imgId:null,client:n.props.socket},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chatEingabe"},r.a.createElement("textarea",{className:"chatInput",placeholder:"deine Nachricht...",name:"input",value:this.state.input,onChange:this.handleChange}),r.a.createElement("div",{className:"chatEingabeIcons"},r.a.createElement(Ye,{emoji:this.handleChangeEmoji}),r.a.createElement(tt,{mobile:this.props.mobile,img:this.useImg})),r.a.createElement("div",{className:"chatEingbeRight"},r.a.createElement("button",{className:"chatBtn",onClick:function(){return e.send()}},"senden")))}}]),a}(r.a.Component),nt=function(){return((new Date).getTime()/1e3|0).toString(16)+"xxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)})).toLowerCase()},rt=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).connectSocket=function(){var e=Array.from(n.state.chatroomMap.values());e&&e.forEach((function(e){n.state.client.connect(e.name)}));var t=n.state.user.id;n.state.client.connect(t)},n.setName=function(e){var t={user:n.state.user.id,contacts:e};n.state.client.register(t),n.setState({connect:!0})},n.close=function(){console.log(" close chatroom => State reset"),n.props.useContact(null),n.setState({chatroom:null,chatUser:null,chatroomView:!0})},n.runChatroom=function(e){console.log("\xd6FFNE CHAT"),n.props.useContact(e);var t=n.state.chatroomMap.get(e);"chat"in t||(t.chat=[]),n.state.client.onEnterRoom(t.name,n.state.user.id),n.setState({chatUser:t.id,chatroom:t,chatroomView:!1})},n.runNewChatroom=function(e){var t={id:n.state.user.id,imgHigh:n.state.user.imgHigh,imgLow:n.state.user.imgLow,room:e.user.id,userName:n.state.user.userName};n.state.client.pingContact(t)},n.createChatroomDb=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r,s,c,o,u,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.user.id,r=t.id,s=nt(),c={name:s,users:{creator:r,members:[a]}},e.next=7,be.createChatroom(c);case 7:(o=e.sent)&&(u=o.id,l={room:t.id,roomId:o.id,inquiryUser:n.state.user.id},n.state.client.pingAnswer(l),n.props.chatroomMap.delete(r.toString()),o.id=r,o.userName=t.userName,o.imgLow=t.imgLow?t.imgLow:null,o.imgHigh=t.imgHigh?t.imgHigh:null,o.chat=[],n.props.chatroomMap.set(u,o),n.state.client.connect(o.name),n.setState({chatUser:r,chatroom:o,chatroomView:!1}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.answerContact=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.getCharoomList(n.state.user.id);case 2:(a=e.sent)&&(r=a.get(t.roomId.toString()),console.log("newRoom",r),n.state.chatroomMap.set(t.roomId.toString(),r),n.state.client.connect(r.name),n.setState({default:null}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.onSendMessage=function(e,t,a,r){var s=e,c=n.state.chatroom.name,o=n.state.user.id;if(null===t){if(""===e)return;n.state.client.message(c,s,"","",null,o)}else n.state.client.message(c,s,t,a,r,o),n.setState({default:null})},n.chatverlauf=function(){var e=n.state.hacking,t=n.state.online.find((function(e){return e===n.state.chatUser}));return r.a.createElement("div",{className:"ChatverlaufCon"},r.a.createElement("div",{className:"chathead"},r.a.createElement("div",{className:"chatHeadImgDiv"},r.a.createElement(L,{name:n.state.chatroom.userName,imgLow:n.state.chatroom.imgLow,imgHigh:n.state.chatroom.imgHigh})),r.a.createElement("div",{className:"chatheadName"},n.state.chatroom.userName,e?r.a.createElement("div",{className:"chartoomWrite"}," schreibt..."):null),t?r.a.createElement("div",{className:"chatroomJoinedHead"},"online"):null,r.a.createElement("button",{className:"chatheadBtn",onClick:function(){return n.close()}},r.a.createElement(j.a,{size:16}))),r.a.createElement("div",{className:"chatContainer"},r.a.createElement(Pe,{chatroom:n.state.chatroom,closeMess:n.close,user:n.props.user,imgSend:n.state.imgSend}),r.a.createElement(at,{mobile:n.props.mobile,send:n.onSendMessage,chatroomName:n.state.chatroom.name,user:n.props.user,socket:n.state.client})))},n.state={client:Ue(),user:n.props.user,chatUser:null,chatroomMap:n.props.chatroomMap,login:!0,chatroom:null,joinedUser:[],connect:!1,chatroomView:!0,default:null,online:[],hacking:!1,imgSend:null},n.addMessagesCallback=n.addMessagesCallback.bind(Object(h.a)(n)),n.onSendMessage=n.onSendMessage.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.connectSocket(),this.state.client.callbackPool(this.addMessagesCallback),this.setName(this.props.user.contacts)}},{key:"componentWillUnmount",value:function(){var e=this;console.log("klasse chat geschlossen");var t=this.state.online,a=this.state.user.id;t.forEach((function(t){var n={chatroomName:t,answer:!1,user:a};e.state.client.userStatus(n)})),this.state.client.disconnect(),this.setState({chatroom:null,chatUser:null,chatroomView:!0})}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.props.user)!==JSON.stringify(e.user)&&this.setState({user:this.props.user}),this.props.chatroomClose!==e.chatroomClose&&(console.log("chat wird geschlossen"),this.close()),this.props.chatroomMap.size>t.chatroomMap.size&&(console.log("\xc4NDERUNG _chatroomMap"),this.setState({chatroomMap:this.props.chatroomMap}))}},{key:"addMessagesCallback",value:function(e){var t=this;switch(e.text){case"new_room":window.alert("fick die wand an"),this.state.chatroomMap.set(e.id,e),this.setState({default:null});break;case"read_message":e.reader&&this.state.chatroom&&(this.state.chatroom.chat.forEach((function(e){e.read=!0})),this.setState({chatroom:this.state.chatroom}));break;case"hacking":var a=setTimeout((function(){t.setState({hacking:!1})}),1500);if(!this.state.chatroomView){var n=this.state.chatroom.name,r=this.state.user.id;e.hack&&n===e.chatroomName&&r!==e.author&&(this.state.hacking||(console.log(e),this.setState({hacking:!0},(function(){return a}))))}break;case"init_chat":if(e.online){var s=this.state.user.id,c=e.online,o={chatroomName:c,answer:!0,user:s};if(this.state.client.userStatus(o),this.state.online.find((function(e){return e===c})))return;this.setState({online:this.state.online.concat(c)})}break;case"user_status":if(e.status){var i=e.user;this.setState({online:this.state.online.concat(i)});break}if(!e.status){var u=e.user;console.log(this.state.online),this.state.online.find((function(e){return e===u}))&&(this.state.online.forEach((function(e,a){e===u&&t.state.online.splice(a,1)})),this.setState({online:this.state.online}));break}break;case"create_room":window.alert("fick die wand nochmal an"),this.answerContact(e);break;case"new_message":var l=function(e){var a,n=t.state.chatroomMap,r=Object(Le.a)(n.entries());try{for(r.s();!(a=r.n()).done;){var s=Object(Be.a)(a.value,2),c=s[0];if(s[1].name===e)return c}}catch(o){r.e(o)}finally{r.f()}}(e.chatroomName);if(console.log("addMessage=>    ",e,l),l){if(this.props.chatroomMap.has(l)){var d=this.props.chatroomMap.get(l);d.chat.push(e),this.state.chatroomMap.set(l,d),e.imgHigh===this.state.imgSend&&this.setState({default:null,imgSend:null}),this.setState({default:null})}}else console.log("unbekannte Nachricht")}}},{key:"scrollChatToBottom",value:function(){this.panel.scrollTo(0,this.panel.scrollHeight)}},{key:"render",value:function(){return this.state.connect&&1===this.props.main?r.a.createElement("div",{className:"ChatDiv"},this.state.chatroomView?null:this.chatverlauf(),r.a.createElement("div",{className:"chatroomFrame"},r.a.createElement(qe,{user:this.state.user,openChat:this.runChatroom,openNewChat:this.runNewChatroom,online:this.state.online,chatroomMap:this.state.chatroomMap,chatroomView:this.state.chatroomView,createRoom:this.createChatroomDb}))):null}}]),a}(r.a.Component),st=(a(145),function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t,a=e.target;n.setState((t={},Object(l.a)(t,a.name,a.value),Object(l.a)(t,"change",!0),t))},n.close=function(){n.props.openChat()},n.dialogCheckText=function(){var e=r.a.createElement("div",null,"Bist sicher das du die \xc4nderungen \xfcbernehmen willst ",r.a.createElement("div",{style:{fontWeight:"bold"}},n.state.user.userName)," ? ");n.setState({text:e,dialogCheck:!0})},n.callbackDialogcheck=function(e){n.setState({dialogCheck:!1}),e&&n.userUpdate()},n.croppedImg=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.userName,r=new FormData,e.next=4,fetch(t).then((function(e){return e.blob()})).then((function(e){return new File([e],a,{type:"image/png"})}));case 4:s=e.sent,r.append("img",s),r.append("thumbnail",s),n.setState({img:s,imgUrl:t,newImg:!0});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.userUpdate=function(){if(n.state.newImg){var e=n.state,t=e.password,a=e.phone,r=e.userName,s=e.email,c=e.img;n.props.userUpgrade({password:t,phone:a,userName:r,email:s,img:c})}else{var o=n.state,i=o.password,u=o.phone,l=o.userName,d=o.email;n.props.userUpgrade({password:i,phone:u,userName:l,email:d})}n.close()},n.saveBtn=function(){var e=n.state,t=e.change,a=e.newImg;return t||a?r.a.createElement("button",{className:"profileSaveBtn",onClick:function(){return n.dialogCheckText()}},"\xc4nderung speichern"):r.a.createElement("button",{className:"profileSaveBtn"},r.a.createElement("div",null))},n.profileMain=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"profileHead"},r.a.createElement("button",{className:"profileBackBackBtn"}),r.a.createElement("button",{className:"profileBackBtn",onClick:function(){return n.close()}},r.a.createElement(j.a,{size:16}))),r.a.createElement("div",{className:"profileMain"},r.a.createElement("div",{className:"profileImgDiv"},n.profilImg()),r.a.createElement("div",{className:"profileDataDiv"},r.a.createElement("div",{className:"profileBez"},"Benutzername:"),r.a.createElement("input",{className:"profileInput",value:n.state.userName,name:"userName",onChange:n.handleChange})),r.a.createElement("div",{className:"profileDataDiv"},r.a.createElement("div",{className:"profileBez"},"Email:"),r.a.createElement("input",{className:"profileInput",value:n.state.email,name:"email",onChange:n.handleChange})),r.a.createElement("div",{className:"profileDataDiv"},r.a.createElement("div",{className:"profileBez"},"Passwort:"),r.a.createElement("input",{className:"profileInput",value:n.state.password,name:"password",type:"password",onChange:n.handleChange})),r.a.createElement("div",{className:"profileDataDiv"},r.a.createElement("div",{className:"profileBez"},"Telefon:"),r.a.createElement("input",{className:"profileInput",value:n.state.phone,name:"phone",type:"number",onChange:n.handleChange})),r.a.createElement("div",{className:"profileDataDiv"},r.a.createElement("div",{className:"profileSaveBtnDiv"},n.saveBtn()))),r.a.createElement(Se,{text:n.state.text,open:n.state.dialogCheck,checked:n.callbackDialogcheck}))},n.state={user:n.props.user,userName:n.props.user.userName,email:n.props.user.email,phone:n.props.user.phone,password:n.props.user.password,dialogCheck:!1,img:null,imgUrl:n.props.user.imgHigh,newImg:!1,change:!1,colorChange:!1,side:1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"profilImg",value:function(){var e=this;return this.state.imgUrl?r.a.createElement("div",{className:"regisImgDiv"},r.a.createElement("img",{className:"regisImg",src:this.state.imgUrl,alt:this.state.userName}),r.a.createElement("button",{className:"regisImgBtn",onClick:function(){return e.setState({imgUrl:null})}},"x")):r.a.createElement("div",{className:"regisImgDiv"},r.a.createElement(T,{img:this.croppedImg,mobil:this.props.mobil}))}},{key:"render",value:function(){return 2===this.props.main?r.a.createElement("div",{className:"profileScreen"},this.profileMain()):null}}]),a}(r.a.Component)),ct=(a(146),function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).close=function(){if(n.state.colorChange){var e={color:n.state.color};n.props.color(e)}n.props.openChat()},n.changeColor=function(e,t){var a=n.state.color;switch(t){case 1:return a.backgroundColor=e,void n.setState({color:a,colorChange:!0});case 2:return a.bubbleColor=e,void n.setState({color:a,colorChange:!0});case 4:return a.fontColor=e,void n.setState({color:a,colorChange:!0});case 3:return a.bubbleColor2=e,void n.setState({color:a,colorChange:!0});case 5:return a.fontColor2=e,void n.setState({color:a,colorChange:!0});default:return}},n.leftUser=function(e){return r.a.createElement("div",{className:"chatinList"},r.a.createElement("div",{className:"chatblase",style:{background:n.state.color.bubbleColor2}},r.a.createElement("div",{className:"chatMessage"},r.a.createElement("div",{className:"chatMessageBlase",style:{color:n.state.color.fontColor2}},e),r.a.createElement("div",{className:"chatdate"},r.a.createElement("div",null,(new Date).toLocaleTimeString("de-DE",{hour12:!1,hour:"2-digit",minute:"2-digit"}))))))},n.rightUser=function(e){return r.a.createElement("div",{className:"chatinListChatUser"},r.a.createElement("div",{className:"chatblaseChatUser",style:{background:n.state.color.bubbleColor}},r.a.createElement("div",{className:"chatMessage"},r.a.createElement("div",{className:"chatMessageBlaseChatUser",style:{color:n.state.color.fontColor}},e),r.a.createElement("div",{className:"chatdateChatUser"},r.a.createElement("div",null,(new Date).toLocaleTimeString("de-DE",{hour12:!1,hour:"2-digit",minute:"2-digit"}))))))},n.exampleChat=function(){return r.a.createElement("div",null,n.leftUser("Hey, Archa!"),n.rightUser("Moin! was kann kann ich f\xfcr dich tuen? \ud83e\udd13"),n.leftUser("ich brauche eine Ver\xe4nderung"),n.rightUser("w\xe4hle deine Farbe \ud83d\ude09"))},n.colorMain=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"profileHead"},r.a.createElement("button",{className:"profileBackBtn",onClick:function(){return n.close()}},r.a.createElement(j.a,{size:16}))),r.a.createElement("div",{className:"showColorFrame"},r.a.createElement("div",{className:"exampleChatDiv",style:{background:n.state.color.backgroundColor}},n.exampleChat())),r.a.createElement("div",{className:"profileMainColor"},r.a.createElement("div",{className:"profileDataDivColor"},r.a.createElement("div",{className:"profileBezColor"},"Hintergrund:"),r.a.createElement("div",{className:"profileColorDiv"},n.state.chatColor.map((function(e){return r.a.createElement("button",{className:e===n.state.color.backgroundColor?"profileColorBtnState":"profileColorBtn",key:e,style:{background:e},onClick:function(){return n.changeColor(e,1)}})})))),r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"profileDataDivColor"},r.a.createElement("div",{className:"profileBezColor"},"Chat-Blase rechts:"),r.a.createElement("div",{className:"profileColorDiv"},n.state.chatColor.map((function(e){return r.a.createElement("button",{className:e===n.state.color.bubbleColor?"profileColorBtnState":"profileColorBtn",key:e,style:{background:e},onClick:function(){return n.changeColor(e,2)}})})))),r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"profileDataDivColor"},r.a.createElement("div",{className:"profileBezColor"},"Chat-Blase links:"),r.a.createElement("div",{className:"profileColorDiv"},n.state.chatColor.map((function(e){return r.a.createElement("button",{className:e===n.state.color.bubbleColor2?"profileColorBtnState":"profileColorBtn",key:e,style:{background:e},onClick:function(){return n.changeColor(e,3)}})})))),r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"profileDataDivColor"},r.a.createElement("div",{className:"profileBezColor"},"Text rechts:"),r.a.createElement("div",{className:"profileColorDiv"},n.state.textColor.map((function(e){return r.a.createElement("button",{className:e===n.state.color.fontColor?"profileColorBtnState":"profileColorBtn",key:e,style:{background:e},onClick:function(){return n.changeColor(e,4)}})})))),r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"profileDataDivColor"},r.a.createElement("div",{className:"profileBezColor"},"Text links:"),r.a.createElement("div",{className:"profileColorDiv"},n.state.textColor.map((function(e){return r.a.createElement("button",{className:e===n.state.color.fontColor2?"profileColorBtnState":"profileColorBtn",key:e,style:{background:e},onClick:function(){return n.changeColor(e,5)}})}))))),r.a.createElement(Se,{text:n.state.text,open:n.state.dialogCheck,checked:n.callbackDialogcheck}))},n.state={user:n.props.user,chatColor:[Ee.grey,Ee.highBlue,Ee.pink,Ee.orange,Ee.green,Ee.white],textColor:[Ee.black,Ee.white],color:{backgroundColor:n.props.user.color.backgroundColor,bubbleColor:n.props.user.color.bubbleColor,fontColor:n.props.user.color.fontColor,bubbleColor2:n.props.user.color.bubbleColor2,fontColor2:n.props.user.color.fontColor2},dialogCheck:!1,colorChange:!1,side:1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return 3===this.props.main?r.a.createElement("div",{className:"profileScreen"},this.colorMain()):null}}]),a}(r.a.Component)),ot=function(e){Object(p.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target;n.setState(Object(l.a)({},t.name,t.value))},n.backHandleRegis=function(e){e&&n.setState({use:1})},n.openChat=function(e){n.setState({useContact:e})},n.openSelect=function(e){n.setState({main:e})},n.use4=function(){n.setState({main:1})},n.profileUserUprade=function(e){e.img?n.updateImg_userDB(e):n.update_userDb(e)},n.updateImg_userDB=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.img,console.log("sende img"),console.log(a),e.next=5,be.imgSave(a);case 5:if(!(r=e.sent)){e.next=13;break}return t.imgLow=r.imgLow,t.imgHigh=r.imgHigh,t.imgId=r.id,n.update_userDb(t),e.next=13,be.deleteImg(n.state.user.imgId);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.update_userDb=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r,s,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state.user.id,e.next=3,be.updateUser(a,t);case 3:(r=e.sent)&&(console.log("########UPDATE#########"),s=r.email,c=r.password,o={email:s,password:c},localStorage.setItem("login_archa",JSON.stringify(o)),n.setState({user:r}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.storageLogin=function(){var e=Object(u.a)(i.a.mark((function e(t){var a,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.getUserbyEAndP(t);case 2:if(!(a=e.sent)){e.next=18;break}if(console.log(a,"api passEmail"),a.color){e.next=12;break}return console.log("neu f\xfcgt color daten hinzu"),r=n.state.color,s={color:r},e.next=11,be.updateUser(a.id,s);case 11:a=e.sent;case 12:return e.next=14,be.getCharoomList(a.id);case 14:(c=e.sent)&&n.setState({user:a,use:4,chatroomMap:c}),e.next=20;break;case 18:window.alert("email oder Passwort stimmen nicht"),n.setState({use:1});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.login=Object(u.a)(i.a.mark((function e(){var t,a,r,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.email,a=n.state.password,""!==t||""!==a){e.next=4;break}return e.abrupt("return");case 4:return r={email:t,password:a},e.next=7,be.getUserbyEAndP(r);case 7:if(!(s=e.sent)){e.next=16;break}return localStorage.setItem("login_archa",JSON.stringify(r)),e.next=12,be.getCharoomList(s.id);case 12:(c=e.sent)&&n.setState({user:s,use:4,chatroomMap:c}),e.next=18;break;case 16:window.alert("email oder Passwort stimmen nicht"),n.setState({use:1});case 18:case"end":return e.stop()}}),e)}))),n.chatroomClose=function(e){e&&n.setState({chatroomClose:e})},n.newUser=function(e){n.setState({user:e,use:4})},n.addUser=function(e){e._id===n.state.user._id&&n.loadMap(e)},n.loadMap=function(){var e=Object(u.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.getCharoomList(t.id);case 2:(a=e.sent)&&n.setState({user:t,use:4,chatroomMap:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.logoutHandle=function(e){console.log("ausloggen...."),e&&n.setState({use:1,email:"",password:"",newUser:null,user:null,chatroomMap:new Map,addEventListener:null},(function(){return n.remoteUser()}))},n.remoteUser=function(){setTimeout((function(){return n.setState({user:null})}),300)},n.handleKeyDown=function(e){"Enter"===e.key&&n.login()},n.state={mobil:!1,use:0,email:"",password:"",user:null,newUser:null,useContact:null,chatroomClose:null,main:1,accentColor:Ee.accentColor,color:{backgroundColor:Ee.white,bubbleColor:Ee.highBlue,fontColor:Ee.white,fontColor2:Ee.grey,bubbleColor2:Ee.black},chatroomMap:new Map,logout:!1},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(h.a)(n)),n.frameToLogin=n.frameToLogin.bind(Object(h.a)(n)),n.topbar=n.topbar.bind(Object(h.a)(n)),n.use=n.use.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWindowDimensions());var e=localStorage.getItem("login_archa");e?this.storageLogin(JSON.parse(e)):this.setState({use:1})}},{key:"updateWindowDimensions",value:function(){var e=window.innerWidth<=600;document.documentElement.style.setProperty("--vh","".concat(window.innerHeight/100,"px")),this.setState({mobil:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"frameToLogin",value:function(){var e=this;return r.a.createElement("div",{className:"loginframeDiv",onKeyDown:this.handleKeyDown},r.a.createElement("div",{className:"loginframeTxt1"},"ARCHA"),r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"loginframeTxt3"},"Cloud - messenger"),r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"loginframeTxt2"},"Willkommen!"),r.a.createElement("div",{className:"loginframeTxt2"},"log dich ein oder regestriere dich "),r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"loginInputDiv"},r.a.createElement("input",{className:"loginInput",type:"text",name:"email",placeholder:"E-mail",value:this.state.email,onChange:this.handleChange})),r.a.createElement("div",{className:"placeholderDivHalf"}),r.a.createElement("div",{className:"loginInputDiv"},r.a.createElement("input",{className:"loginInput",type:"password",name:"password",placeholder:"Passwort",value:this.state.password,onChange:this.handleChange})),r.a.createElement("button",{className:"loginBtn",onClick:function(){return e.setState({use:3},(function(){return e.login()}))}},"Login"),r.a.createElement("button",{className:"regesBtn",onClick:function(){return e.setState({use:2})}},"registrieren"))}},{key:"topbar",value:function(){return r.a.createElement("div",{className:"topbarDivHome"},r.a.createElement(Me,{user:this.state.user,updateUserHome:this.addUser,mobil:this.state.mobil,logout:this.logoutHandle,useContact:this.state.useContact,chatroomClose:this.chatroomClose,chatroomMap:this.state.chatroomMap,openSelect:this.openSelect}))}},{key:"use",value:function(){switch(this.state.use){case 0:var e=0===this.state.use;return r.a.createElement("div",{className:"regisDivSwitchLoad"},r.a.createElement("div",{className:"heicSpinner"},r.a.createElement("div",{className:"heicSpinnerStartDiv"},r.a.createElement(Ie.ClassicSpinner,{size:50,margin:2,color:"#639cdd",loading:e}))));case 1:return r.a.createElement("div",{className:"regisDivSwitch"},this.frameToLogin());case 2:return r.a.createElement("div",{className:"regisDivSwitch"},r.a.createElement(Ce,{mobil:this.state.mobil,back:this.backHandleRegis,newUser:this.newUser}));case 3:return r.a.createElement("div",{className:"regisDivSwitch"},r.a.createElement("div",{className:"loginframeDiv"},r.a.createElement("div",{className:"placeholderDiv"}),r.a.createElement("div",{className:"loginframeTxt3"},"lade... "),r.a.createElement("div",{className:"heicSpinner"},r.a.createElement(Ie.ClassicSpinner,{size:50,margin:2,color:"#639cdd",loading:!0}))));case 4:return r.a.createElement("div",{className:"regisDivSwitch"},r.a.createElement("div",{className:"loginframeDiv"},r.a.createElement(rt,{user:this.state.user,useContact:this.openChat,chatroomClose:this.state.chatroomClose,mobile:this.state.mobil,chatroomMap:this.state.chatroomMap,updateMap:this.loadMap,main:this.state.main}),r.a.createElement(st,{openChat:this.use4,user:this.state.user,userUpgrade:this.profileUserUprade,main:this.state.main}),r.a.createElement(ct,{openChat:this.use4,user:this.state.user,color:this.profileUserUprade,main:this.state.main})));default:return null}}},{key:"render",value:function(){return r.a.createElement("div",{className:this.state.mobil?"homeScreenMobil":"homeScreen"},this.topbar(),r.a.createElement("div",{className:this.state.mobil?"loginFrameMobil":"loginFrame"},this.use()))}}]),a}(r.a.Component),it=a(11),ut=a(90);function lt(){return r.a.createElement("div",null,r.a.createElement(it.c,null,r.a.createElement(it.a,{exact:!0,path:"/"},r.a.createElement(ot,null))))}c.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(ut.a,null,r.a.createElement(lt,null))),document.getElementById("root"))},66:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},86:function(e,t){e.exports=function(){return["/\ud83c\udff4(?:\udb40\udc67\udb40\udc62(?:\udb40\udc65\udb40\udc6e\udb40\udc67|\udb40\udc77\udb40\udc6c\udb40\udc73|\udb40\udc73\udb40\udc63\udb40\udc74)\udb40\udc7f|\u200d\u2620\ufe0f)|\ud83d\udc69\u200d\ud83d\udc69\u200d(?:\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc67\u200d(?:\ud83d[\udc66\udc67]))|\ud83d\udc68(?:\u200d(?:\u2764\ufe0f\u200d(?:\ud83d\udc8b\u200d)?\ud83d\udc68|(?:\ud83d[\udc68\udc69])\u200d(?:\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc67\u200d(?:\ud83d[\udc66\udc67]))|\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc67\u200d(?:\ud83d[\udc66\udc67])|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udffb-\udfff])\u200d(?:\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3]))|\ud83d\udc69\u200d(?:\u2764\ufe0f\u200d(?:\ud83d\udc8b\u200d(?:\ud83d[\udc68\udc69])|\ud83d[\udc68\udc69])|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|(?:\ud83d\udc41\ufe0f\u200d\ud83d\udde8|\ud83d\udc69(?:\ud83c[\udffb-\udfff])\u200d[\u2695\u2696\u2708]|\ud83d\udc68(?:(?:\ud83c[\udffb-\udfff])\u200d[\u2695\u2696\u2708]|\u200d[\u2695\u2696\u2708])|(?:(?:\u26f9|\ud83c[\udfcb\udfcc]|\ud83d\udd75)\ufe0f|\ud83d\udc6f|\ud83e[\udd3c\uddde\udddf])\u200d[\u2640\u2642]|(?:\u26f9|\ud83c[\udfcb\udfcc]|\ud83d\udd75)(?:\ud83c[\udffb-\udfff])\u200d[\u2640\u2642]|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:(?:\ud83c[\udffb-\udfff])\u200d[\u2640\u2642]|\u200d[\u2640\u2642])|\ud83d\udc69\u200d[\u2695\u2696\u2708])\ufe0f|\ud83d\udc69\u200d\ud83d\udc67\u200d(?:\ud83d[\udc66\udc67])|\ud83d\udc69\u200d\ud83d\udc69\u200d(?:\ud83d[\udc66\udc67])|\ud83d\udc68(?:\u200d(?:(?:\ud83d[\udc68\udc69])\u200d(?:\ud83d[\udc66\udc67])|\ud83d[\udc66\udc67])|\ud83c[\udffb-\udfff])|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\udc69\u200d\ud83d\udc67|\ud83d\udc69(?:\ud83c[\udffb-\udfff])\u200d(?:\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|\ud83d\udc69\u200d\ud83d\udc66|\ud83c\uddf6\ud83c\udde6|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddf4\ud83c\uddf2|\ud83d\udc69(?:\ud83c[\udffb-\udfff])|\ud83c\udded(?:\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa])|\ud83c\uddec(?:\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe])|\ud83c\uddea(?:\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa])|\ud83c\udde8(?:\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff])|\ud83c\uddf2(?:\ud83c[\udde6\udde8-\udded\uddf0-\uddff])|\ud83c\uddf3(?:\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff])|\ud83c\uddfc(?:\ud83c[\uddeb\uddf8])|\ud83c\uddfa(?:\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff])|\ud83c\uddf0(?:\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff])|\ud83c\uddef(?:\ud83c[\uddea\uddf2\uddf4\uddf5])|\ud83c\uddf8(?:\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff])|\ud83c\uddee(?:\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9])|\ud83c\uddff(?:\ud83c[\udde6\uddf2\uddfc])|\ud83c\uddeb(?:\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7])|\ud83c\uddf5(?:\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe])|\ud83c\udde9(?:\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff])|\ud83c\uddf9(?:\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff])|\ud83c\udde7(?:\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff])|[#\0-9]\ufe0f\u20e3|\ud83c\uddf1(?:\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe])|\ud83c\udde6(?:\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff])|\ud83c\uddf7(?:\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc])|\ud83c\uddfb(?:\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa])|\ud83c\uddfe(?:\ud83c[\uddea\uddf9])|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])|(?:\u26f9|\ud83c[\udfcb\udfcc]|\ud83d\udd75)(?:\ud83c[\udffb-\udfff])|(?:[\u261d\u270a-\u270d]|\ud83c[\udf85\udfc2\udfc7]|\ud83d[\udc42\udc43\udc46-\udc50\udc66\udc67\udc70\udc72\udc74-\udc76\udc78\udc7c\udc83\udc85\udcaa\udd74\udd7a\udd90\udd95\udd96\ude4c\ude4f\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd30-\udd36\uddb5\uddb6\uddd1-\uddd5])(?:\ud83c[\udffb-\udfff])|(?:[\u231a\u231b\u23e9-\u23ec\u23f0\u23f3\u25fd\u25fe\u2614\u2615\u2648-\u2653\u267f\u2693\u26a1\u26aa\u26ab\u26bd\u26be\u26c4\u26c5\u26ce\u26d4\u26ea\u26f2\u26f3\u26f5\u26fa\u26fd\u2705\u270a\u270b\u2728\u274c\u274e\u2753-\u2755\u2757\u2795-\u2797\u27b0\u27bf\u2b1b\u2b1c\u2b50\u2b55]|\ud83c[\udc04\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude1a\ude2f\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf93\udfa0-\udfca\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc42-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udd7a\udd95\udd96\udda4\uddfb-\ude4f\ude80-\udec5\udecc\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd3a\udd3c-\udd3e\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb0-\uddb9\uddc0-\uddc2\uddd0-\uddff])|(?:[#\0-9\xa9\xae\u203c\u2049\u2122\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23e9-\u23f3\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u261d\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u265f\u2660\u2663\u2665\u2666\u2668\u267b\u267e\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26ce\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f7-\u26fa\u26fd\u2702\u2705\u2708-\u270d\u270f\u2712\u2714\u2716\u271d\u2721\u2728\u2733\u2734\u2744\u2747\u274c\u274e\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27a1\u27b0\u27bf\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299]|\ud83c[\udc04\udccf\udd70\udd71\udd7e\udd7f\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude02\ude1a\ude2f\ude32-\ude3a\ude50\ude51\udf00-\udf21\udf24-\udf93\udf96\udf97\udf99-\udf9b\udf9e-\udff0\udff3-\udff5\udff7-\udfff]|\ud83d[\udc00-\udcfd\udcff-\udd3d\udd49-\udd4e\udd50-\udd67\udd6f\udd70\udd73-\udd7a\udd87\udd8a-\udd8d\udd90\udd95\udd96\udda4\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa-\ude4f\ude80-\udec5\udecb-\uded2\udee0-\udee5\udee9\udeeb\udeec\udef0\udef3-\udef9]|\ud83e[\udd10-\udd3a\udd3c-\udd3e\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb0-\uddb9\uddc0-\uddc2\uddd0-\uddff])\ufe0f|(?:[\u261d\u26f9\u270a-\u270d]|\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca-\udfcc]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd74\udd75\udd7a\udd90\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd])/g"]}},99:function(e,t,a){e.exports=a(148)}},[[99,1,2]]]);
//# sourceMappingURL=main.409e0da3.chunk.js.map